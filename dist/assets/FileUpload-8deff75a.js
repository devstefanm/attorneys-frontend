import{c as z,j as e,E as C,S as B,M as k,a as N,B as v,D as w,r as h,T as j,I as E}from"./index-79aed4de.js";import{F as M,I as H,B as L,S as P}from"./setupAxios-1965d90e.js";import{j as R,k as V,l as $,n as A,h as U}from"./ConfirmationDialog-18afe8fd.js";const O=z(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),J=u=>{const{label:d,value:m,onChange:l,options:p,size:i="small",multiple:f=!1,className:a=""}=u,o=s=>{const{value:n}=s.target;l&&l(n)};return e.jsx(C,{children:e.jsxs(M,{children:[e.jsx(H,{children:d}),e.jsx(B,{className:`w-36 text-[15px] ${a}`,size:i,label:d,value:m,multiple:f,onChange:s=>o(s),children:p.map(s=>e.jsx(k,{value:s.value,disabled:s.disabled,children:s.label},s.id))})]})})},K=u=>{const{onClose:d,onSubmitFile:m,open:l,title:p,uploadComponent:i,className:f,submitButtonText:a,isLoading:o,file:s}=u,{t:n}=N();return e.jsx(C,{children:e.jsxs(R,{fullWidth:!0,className:`z-[9999] ${f}`,open:l,keepMounted:!0,onClose:d,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(V,{children:n(p)}),e.jsxs($,{children:[e.jsx(v,{className:"mx-auto mb-10 mt-2",children:i}),e.jsx(w,{}),e.jsx(A,{className:"mt-6 flex justify-center",id:"alert-dialog-slide-description",children:e.jsx(L,{className:"w-48",variant:"contained",color:"success",disabled:o||!s,onClick:m,children:o?e.jsx(U,{size:24,thickness:4}):n(a||"submitFile")})})]})]})})},Q=({onFileUpload:u,file:d,onFileDelete:m,onError:l})=>{const[p,i]=h.useState(!1),[f,a]=h.useState(!1),[o,s]=h.useState(d||null),[n,x]=h.useState(!1),c=h.useRef(null),{t:g}=N(),b=t=>t.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||t.type==="text/csv",D=t=>{t.preventDefault(),i(!0)},y=t=>{t.preventDefault(),i(!1)},I=t=>{t.preventDefault(),i(!1);const r=t.dataTransfer.files[0];r&&(b(r)?(a(!0),s(r),u(r)):(x(!0),a(!1),s(null),c.current&&(c.current.value=""),setTimeout(()=>{x(!1)},1500),l&&l()))},S=t=>{var F;const r=(F=t.target.files)==null?void 0:F[0];r&&(b(r)?(a(!0),s(r),u(r)):(x(!0),a(!1),s(null),c.current&&(c.current.value=""),setTimeout(()=>{x(!1)},1500),l&&l()))},T=()=>{setTimeout(()=>{c.current&&(c.current.value=""),a(!1),s(null),m&&m()},0)};return e.jsxs(v,{className:"relative border-2 p-4 text-center cursor-pointer",style:p?{borderColor:"green",borderStyle:"dashed"}:{borderColor:"gray"},onDragEnter:D,onDragLeave:y,onDragOver:D,onDrop:I,children:[e.jsx("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:S,ref:c,id:"fileInput"}),e.jsxs("label",{className:"flex flex-col items-center",htmlFor:"fileInput",children:[e.jsx(v,{sx:f?{}:{cursor:"pointer"},className:"absolute top-0 left-0 w-full h-full bg-transparent z-10"}),f&&o?e.jsxs(P,{direction:"row",className:"items-center",children:[e.jsx(j,{className:"text-green-800",variant:"subtitle1",children:o.name||"Untitled"}),e.jsx(E,{size:"small",onClick:T,color:"success",className:"z-[100]",children:e.jsx(O,{})})]}):e.jsx(e.Fragment,{children:e.jsx(j,{className:"text-green-800",variant:"subtitle1",children:g(p?"dropFileHere":"dragNDropFileHere")})}),e.jsx(j,{className:"mt-2",variant:"subtitle2",color:n?"error":"inherit",children:n?g("wrongFileFormat"):`${g("acceptedFormats")}: CSV, Excel`})]})]})};export{J as F,K as I,Q as a};
