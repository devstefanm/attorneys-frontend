import{E as d,u as A,a as y,b,j as s,c as S,r as v,I as B,B as u,S as M,l as P,M as _}from"./index-0fc86f99.js";import{u as D,s as V,S as N,T as j,I as F,B as O,a as R}from"./SnackbarNotification-fe22749b.js";import{V as W,a as q}from"./VisibilityOff-a861a11e.js";const z=async c=>{let n;return n=await V({method:"post",url:"auth/login",data:c}),n},G=(c,n)=>D(a=>z(a),{onSuccess:a=>{var t;return localStorage.setItem("attorneys_access_token",(t=a.data.data)==null?void 0:t.accessToken),c("/cases"),a.data.message},onError:a=>{var t,o,l,e;return console.error(a),(o=(t=a==null?void 0:a.response)==null?void 0:t.data)!=null&&o.message&&n({type:d.openErrorSnackbar,payload:!0}),{error:a,message:((e=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:e.message)||"Error has occured"}}}),U=c=>{var h,x,w,f;const n=A(),{t:a}=y(),{state:{loginCredentials:t,showPassword:o,openErrorSnackbar:l},dispatch:e}=b(),{mutateAsync:k,isError:C,error:i}=G(n,e),g=r=>{const{name:m,value:p}=r.target,T={...t,[m]:p};e({type:d.login_user,payload:T})},E=()=>e({type:d.show_password,payload:!o}),I=r=>{r.preventDefault()},L=r=>{r.preventDefault();const m=r.currentTarget.email.value,p=r.currentTarget.password.value;k({identifier:m,password:p})};return s.jsx(S,{children:s.jsxs(v.Suspense,{children:[s.jsxs(N,{component:"form",className:"mx-14 my-10",onSubmit:L,children:[s.jsx(j,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:a("emailOrUsername"),name:"email",autoComplete:"email",autoFocus:!0,onChange:g,defaultValue:t.email}),s.jsx(j,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:a("password"),type:o?"text":"password",id:"password",autoComplete:"current-password",onChange:g,defaultValue:t.password,InputProps:{endAdornment:s.jsx(F,{position:"end",children:s.jsx(B,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:I,children:o?s.jsx(W,{}):s.jsx(q,{})})})}}),s.jsx(O,{className:"mt-8",size:"large",type:"submit",fullWidth:!0,variant:"contained",children:a("login")})]}),C&&((x=(h=i==null?void 0:i.response)==null?void 0:h.data)!=null&&x.message)?s.jsx(R,{open:l,onClose:()=>e({type:d.openErrorSnackbar,payload:!1}),severity:"error",content:(f=(w=i==null?void 0:i.response)==null?void 0:w.data)==null?void 0:f.message}):""]})})},H="/assets/logo-3fff7e28.svg",X=c=>{const{state:{authFormType:n}}=b(),{t:a,i18n:t}=y(),o=t.language,l={LOGIN:s.jsx(U,{})};return s.jsx(S,{children:s.jsx(v.Suspense,{children:s.jsxs(N,{direction:"row",children:[s.jsx(u,{className:"bg-[url('./assets/background/authRightBackground.svg')] h-screen w-1/3"}),s.jsxs(u,{className:"bg-[url('./assets/background/authLeftBackground.svg')] h-screen w-2/3",children:[s.jsx(M,{labelId:"demo-simple-select-standard-label",variant:"standard",id:"demo-simple-select-standard",value:o,className:"w-10 flex float-right mt-4 mr-4",onChange:e=>t.changeLanguage(e.target.value),label:a("language"),MenuProps:{className:"mt-4"},inputProps:{IconComponent:()=>null,className:"px-2"},children:P.map(e=>s.jsx(_,{className:"margin-auto px-2",value:e.name,children:e.icon},e.id))}),s.jsx(u,{className:"flex justify-center items-center h-screen",children:s.jsxs(u,{className:"bg-white h-[480px] w-[500px] rounded-lg",children:[s.jsx("img",{src:H,className:"mx-auto mt-10 w-80"}),l[n]]})})]})]})})})};export{X as Auth};
