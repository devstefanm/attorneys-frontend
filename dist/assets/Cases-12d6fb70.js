import{g as pe,e as me,s as Y,f as T,_ as L,h as ne,i as he,k as be,r as _,m as ge,n as ye,j as s,o as fe,p as Ce,c as le,q as G,a as Q,t as P,v as i,B as I,D as xe,I as ie,E as K,w,x as Ne}from"./index-f919451c.js";import{u as F,a as A,c as we,t as ke,m as je,T as Se,d as de}from"./transformData-0a63b46d.js";import{s as $,T as ee}from"./setupAxios-dbc54428.js";import{S as ve,C as $e,G as W,L as Fe,A as We,D as Ae,F as ce,a as Oe,M as ze}from"./AdapterMoment-075cb260.js";import{R as Me,A as De,D as Be}from"./DynamicInputs-2baf6532.js";import{u as Te}from"./useGetCitiesNamesQuery-fdf1906d.js";import{A as ue}from"./Autocomplete-84b9c9c2.js";import{u as Le,B as Ve}from"./useMutation-53d3e637.js";import{F as Ee}from"./FilterComponent-c09bcbf7.js";function Re(e){return me("MuiSwitch",e)}const Ie=pe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),k=Ie,_e=["className","color","edge","size","sx"],Qe=e=>{const{classes:t,edge:r,size:n,color:c,checked:u,disabled:d}=e,l={root:["root",r&&`edge${T(r)}`,`size${T(n)}`],switchBase:["switchBase",`color${T(c)}`,u&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=Ce(l,Re,t);return L({},t,p)},Pe=Y("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.edge&&t[`edge${T(r.edge)}`],t[`size${T(r.size)}`]]}})(({ownerState:e})=>L({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${k.thumb}`]:{width:16,height:16},[`& .${k.switchBase}`]:{padding:4,[`&.${k.checked}`]:{transform:"translateX(16px)"}}})),Ge=Y(ve,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.switchBase,{[`& .${k.input}`]:t.input},r.color!=="default"&&t[`color${T(r.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${k.checked}`]:{transform:"translateX(20px)"},[`&.${k.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${k.checked} + .${k.track}`]:{opacity:.5},[`&.${k.disabled} + .${k.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${k.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>L({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:ne(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${k.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ne(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?he(e.palette[t.color].main,.62):be(e.palette[t.color].main,.55)}`}},[`&.${k.checked} + .${k.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Ue=Y("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Ye=Y("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Ke=_.forwardRef(function(t,r){const n=ge({props:t,name:"MuiSwitch"}),{className:c,color:u="primary",edge:d=!1,size:l="medium",sx:p}=n,h=ye(n,_e),m=L({},n,{color:u,edge:d,size:l}),f=Qe(m),S=s.jsx(Ye,{className:f.thumb,ownerState:m});return s.jsxs(Pe,{className:fe(f.root,c),sx:p,ownerState:m,children:[s.jsx(Ge,L({type:"checkbox",icon:S,checkedIcon:S,ref:r,ownerState:m},h,{classes:L({},f,{root:f.switchBase})})),s.jsx(Ue,{className:f.track,ownerState:m})]})}),Xe=Ke,He=le(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"}),"DoNotDisturb"),Je=le(s.jsx("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39l-1.61 1.61z"}),"TaskAlt"),Ze=({first_name:e,last_name:t,case_number:r,contract_number:n,jmbg:c,pib:u,name:d,executors:l,lawyer_first_name:p,lawyer_last_name:h,lawyer_office_name:m,state:f,ssn:S,package:x,business_numbers:g,cession:b,principal:a,interest:o})=>({name:d?F(d):`${e?F(e):""} ${t?F(t):""}`,jmbg_pib:c||""||u||"",caseNumber:r,contractNumber:n,executors:l,lawyer:m?`${p?F(p):""} ${h?F(h):""} (${F(m)})`:`${p?F(p):""} ${h?F(h):""}`,ssn:S??"",package:x??"",state:f,businessNumbers:g,cession:b?s.jsx(Je,{color:"success"}):s.jsx(He,{color:"error"}),principal:a,interest:o}),qe=async e=>{var l;const{sortBy:t="created_at",sort:r="desc",page:n=1,size:c=25,filter:u="active"}=e;let d;try{d=await $({method:"get",url:"api/cases-list",params:{...e,sortBy:t===""?"created_at":we(t),sort:r===""?"asc":r,page:n,size:c,filter:u===G.all?"":u},withCredentials:!0}),(l=d.data.data)!=null&&l.cases&&(d.data.data.cases=d.data.data.cases.map(p=>Ze(p)))}catch{d={data:{error:500,message:"Connection problem"}}}return d},et=e=>A(["casesList",e],()=>qe(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1}),tt=e=>{switch(e){case"active":return"#22c55e";case"closed":return"#9ca3af";default:return""}},U=e=>{const{id:t,first_name:r,last_name:n,name:c,package_name:u,ssn:d}=e;let l="";return c&&(l=c),r&&(l=`${r} ${n??""}`),u&&(l=u),d&&(l=d),{id:t,name:l}},at=({address:e,businessNumbers:t,caseNumber:r,cession:n,city:c,client:u,closingDate:d,contractNumber:l,court:p,email:h,employed:m,employer:f,executors:S,firstName:x,interest:g,jmbg:b,lastName:a,lawyer:o,legalEntity:N,name:C,package:j,phoneNumbers:v,pib:O,principal:z,ssnNumber:B,zipCode:V})=>{let E=null,M=null,R=null,X=[],H=null,J=null,Z=null,q=null,te=null;typeof c!="string"&&(E=c.id),typeof u!="string"&&(M=u.id),typeof p!="string"&&(R=p.id),typeof S!==null&&(X=S.map(D=>D.id).filter(D=>D!==null)),typeof o!="string"&&(H=o.id),typeof B!="string"&&(J=B.id),typeof j!="string"&&(Z=j.id),typeof f!="string"&&(te=f.id),d&&(q=ke(d));const ae=Number(r),se=Number(l),re=v.filter(D=>D.length>5),oe=t.filter(D=>D.length>0);return N?{name:C,pib:O,address:e,cession:n,email:h,zip_code:V,case_number:ae,contract_number:se,principal:Number(z),interest:Number(g),city_id:E,client_id:M,court_id:R,executor_ids:X,lawyer_id:H,ssn_number_id:J,package_id:Z,phone_numbers:re,business_numbers:oe,closing_date:q}:{first_name:x,last_name:a,employed:m,employer_id:te,jmbg:b,address:e,cession:n,email:h,zip_code:V,case_number:ae,contract_number:se,principal:Number(z),interest:Number(g),city_id:E,client_id:M,court_id:R,executor_ids:X,lawyer_id:H,ssn_number_id:J,package_id:Z,phone_numbers:re,business_numbers:oe,closing_date:q}},y={name:"name",jmbg_pib:"jmbg_pib",caseNumber:"caseNumber",contractNumber:"contractNumber",cession:"cession",executors:"executors",lawyer:"lawyer",ssn:"ssn",package:"package",state:"state",businessNumbers:"businessNumbers",principal:"principal",interest:"interest"},st=()=>{var g,b;const{t:e}=Q(),{state:{sortable:{sort:t,sortBy:r},pageable:{page:n,size:c},searchable:u,filterable:d},dispatch:l}=P();let p={page:n,size:c,sort:t,sortBy:r};const h=u.reduce((a,o)=>{const N=je(o);return{...a,...N}},{}),{data:m,isLoading:f,refetch:S}=et({...p,...h,filter:d}),x=_.useMemo(()=>[{accessorFn:a=>a.name,id:y.name,header:()=>s.jsx("span",{children:e(`entities.${[y.name]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.jmbg_pib,id:y.jmbg_pib,header:()=>s.jsx("span",{children:e(`entities.${[y.jmbg_pib]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.caseNumber,id:y.caseNumber,header:()=>s.jsx("span",{children:e(`entities.${[y.caseNumber]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.contractNumber,id:y.contractNumber,header:()=>s.jsx("span",{children:e(`entities.${[y.contractNumber]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.businessNumbers,id:y.businessNumbers,header:()=>s.jsx("span",{children:e(`entities.${[y.businessNumbers]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.executors,id:y.executors,header:()=>s.jsx("span",{children:e(`entities.${[y.executors]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.lawyer,id:y.lawyer,header:()=>s.jsx("span",{children:e(`entities.${[y.lawyer]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.ssn,id:y.ssn,header:()=>s.jsx("span",{children:e(`entities.${[y.ssn]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0},{accessorFn:a=>a.package,id:y.package,header:()=>s.jsx("span",{children:e(`entities.${[y.package]}`)}),cell:a=>a.getValue(),isSearchable:!0,isSortable:!0}],[]);return f?s.jsx(s.Fragment,{children:"Loading..."}):s.jsx(Se,{columns:x,data:(g=m==null?void 0:m.data.data)==null?void 0:g.cases,hasSearch:!0,sort:t,sortBy:r,totalNumber:(b=m==null?void 0:m.data.data)==null?void 0:b.meta.total_number,page:n,size:c,borderKeyword:"state",updateState:l,refetch:S,mapBorderColors:tt})},rt=({employersOptions:e,lawyersOptions:t,clientsOptions:r,courtsOptions:n,ssnNumbersOptions:c,packagesOptions:u,citiesOptions:d,executorsOptions:l})=>[{name:"legalEntity",type:i.toggle,options:[!0,!1],gridClassName:"flex justify-center",labelPlacement:"top"},{name:"firstName",type:i.input,gridWidth:6,condition:!1},{name:"lastName",type:i.input,gridWidth:6,condition:!1},{name:"jmbg",type:i.input,gridWidth:12,condition:!1},{name:"name",type:i.input,gridWidth:6,condition:!0},{name:"pib",type:i.input,gridWidth:6,condition:!0},{name:"employed",type:i.checkbox,gridWidth:6,condition:!1},{name:"employer",type:i.autocomplete,gridWidth:12,condition:!1,secondCondition:!0,options:e},{name:"cession",type:i.checkbox,gridWidth:6},{name:"phoneNumbers",subfieldName:"phoneNumber",type:i.dynamicInputs,gridWidth:12},{name:"address",type:i.input,gridWidth:6},{name:"email",type:i.input,gridWidth:6},{name:"zipCode",type:i.input,gridWidth:6,format:/^\d{6}$/},{name:"city",type:i.autocomplete,gridWidth:6,options:d},{name:"caseNumber",type:i.input,gridWidth:6},{name:"contractNumber",type:i.input,gridWidth:6},{name:"businessNumbers",subfieldName:"businessNumber",type:i.dynamicInputs,gridWidth:12},{name:"executors",subfieldName:"executor",type:i.dynamicAutocompletes,gridWidth:12,options:l},{name:"lawyer",type:i.autocomplete,gridWidth:6,options:t},{name:"court",type:i.autocomplete,gridWidth:6,options:n},{name:"client",type:i.autocomplete,gridWidth:6,options:r},{name:"closingDate",type:i.datepicker,gridWidth:6},{name:"ssnNumber",type:i.autocomplete,gridWidth:6,options:c},{name:"package",type:i.autocomplete,gridWidth:6,options:u},{name:"principal",type:i.input,gridWidth:6,format:/[^0-9.]/g},{name:"interest",type:i.input,gridWidth:6,format:/[^0-9.]/g}],ot=async e=>{let t;try{t=await $({method:"get",url:"api/clients-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},nt=e=>A(["clientsNames",e],()=>ot(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),it=async e=>{let t;try{t=await $({method:"get",url:"api/courts-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},ct=e=>A(["courtsNames",e],()=>it(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),lt=async e=>{let t;try{t=await $({method:"get",url:"api/executors-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},dt=e=>A(["executorsNames",e],()=>lt(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),ut=async e=>{let t;try{t=await $({method:"get",url:"api/lawyers-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},pt=e=>A(["lawyersNames",e],()=>ut(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),mt=async e=>{let t;try{t=await $({method:"get",url:"api/packages-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},ht=e=>A(["packagesNames",e],()=>mt(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),bt=async e=>{let t;try{t=await $({method:"get",url:"api/ssn-numbers",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},gt=e=>A(["ssnNumbers",e],()=>bt(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),yt=async e=>{let t;try{t=await $({method:"get",url:"api/employers-names",params:{...e},withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},ft=e=>A(["employersNames",e],()=>yt(e),{keepPreviousData:!0,refetchOnMount:!1,refetchOnWindowFocus:!1,select(t){return t.data.data}}),Ct=({label:e,values:t,autocompleteProps:r,inputProps:n,options:c,name:u,actionType:d,onValuesChange:l,updateState:p})=>{const[h,m]=_.useState(t??[{id:null,name:""}]);_.useEffect(()=>{t&&m(t)},[t]);const f=()=>{if(h.length<6){const g=[...h,{id:null,name:""}];m(g),l&&l(g)}},S=g=>{const b=[...h];b.splice(g,1),m(b),l&&l(b)},x=(g,b)=>{const a=[...h];a[g]=b,m(a),l&&l(a)};return s.jsxs(I,{className:"my-3",children:[s.jsx(xe,{textAlign:"left",children:e}),h.map((g,b)=>s.jsxs(I,{className:"flex my-3",children:[s.jsx(ue,{...r,options:c??[],getOptionLabel:a=>U(a).name,onBlur:()=>p&&p({type:d,payload:{inputName:u,inputValue:""}}),value:g,onChange:(a,o)=>x(b,o),renderInput:a=>s.jsx(ee,{...a,...n,label:`${n==null?void 0:n.label} ${b+1}`,onChange:de(o=>p&&p({type:d,payload:{inputName:u,inputValue:o.target.value}}),300)})}),b>0?s.jsx(ie,{onClick:()=>S(b),children:s.jsx(Me,{})}):s.jsx(I,{className:"w-[42px]"})]},b)),h.length<4&&s.jsx(I,{className:"flex justify-center",children:s.jsx(ie,{onClick:f,children:s.jsx(De,{})})})]})},xt=()=>{const{t:e}=Q(),{state:{isLegalEntity:t,addCaseForm:r,addCaseAutocompleteValues:n},dispatch:c}=P(),{data:u}=Te({search:n.city}),{data:d}=nt({search:n.client}),{data:l}=ct({search:n.court}),{data:p}=dt({search:n.executors}),{data:h}=pt({search:n.lawyer}),{data:m}=ht({search:n.package}),{data:f}=gt({search:n.ssnNumber}),{data:S}=ft({search:n.employer}),x=(a,o,N)=>(C,j)=>{switch(o){case i.toggle:a==="legalEntity"?(c({type:w.isLegalEntity,payload:!t}),c({type:w.addCaseForm,payload:{name:a,fieldValue:j}})):c({type:w.addCaseForm,payload:{name:a,fieldValue:j}});break;case i.input:const{value:v}=C==null?void 0:C.target;let O=v;N?(O=v.replace(N,""),c({type:w.addCaseForm,payload:{name:a,fieldValue:O}})):c({type:w.addCaseForm,payload:{name:a,fieldValue:O}});break;case i.checkbox:c({type:w.addCaseForm,payload:{name:a,fieldValue:j}});break;case i.datepicker:c({type:w.addCaseForm,payload:{name:a,fieldValue:C}});break;case i.dynamicInputs:c({type:w.addCaseForm,payload:{name:a,fieldValue:C}});break;case i.autocomplete:c({type:w.addCaseForm,payload:{name:a,fieldValue:j?U(j):""}});break;case i.dynamicAutocompletes:c({type:w.addCaseForm,payload:{name:a,fieldValue:C.map(z=>U(z))}});break}},g=()=>console.log("Submitted"),b=a=>{const{name:o,type:N,gridClassName:C,formFieldClassName:j,gridWidth:v,labelPlacement:O,options:z,size:B,subfieldName:V,format:E}=a;switch(N){case i.toggle:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(ce,{className:j,value:t,onChange:x(o,N),control:s.jsx(Xe,{color:"primary"}),label:e(`entities.${o}`),labelPlacement:O})},o);case i.checkbox:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(ce,{control:s.jsx(Oe,{className:j,name:o,size:B??"small",checked:r[o],onChange:x(o,N)}),label:e(`entities.${o}`)})},o);case i.input:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(ee,{fullWidth:!0,className:j,size:B??"small",label:e(`entities.${o}`),name:o,value:r[o],onChange:x(o,N,E)})},o);case i.autocomplete:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(ue,{fullWidth:!0,className:j,options:z??[],getOptionLabel:M=>U(M).name,size:B??"small",value:r[o],onChange:x(o,N),renderInput:M=>s.jsx(ee,{...M,label:e(`entities.${o}`),onChange:de(R=>c({type:w.addCaseAutocompleteValues,payload:{inputName:o,inputValue:R.target.value}}),300)})})},o);case i.datepicker:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(Fe,{dateAdapter:We,children:s.jsx(Ae,{label:e(`entities.${o}`),value:r[o],className:j,slotProps:{textField:{size:"small",fullWidth:!0},actionBar:{actions:["clear"]}},format:"DD. MM. YYYY",onChange:x(o,N)})})},o);case i.dynamicInputs:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(Be,{label:e(`entities.${o}`),inputProps:{label:e(`entities.${V}`),size:"small",fullWidth:!0},values:r[o],onValuesChange:x(o,N)})},o);case i.dynamicAutocompletes:return s.jsx(W,{className:C,item:!0,xs:v||12,children:s.jsx(Ct,{options:z,label:e(`entities.${o}`),autocompleteProps:{size:"small",fullWidth:!0},inputProps:{label:e(`entities.${V}`)},values:r[o],onValuesChange:x(o,N),actionType:w.addCaseAutocompleteValues,name:o,updateState:c})},o);default:return""}};return s.jsx(K,{children:s.jsx($e,{children:s.jsx("form",{onSubmit:g,children:s.jsx(W,{container:!0,spacing:2,children:rt({citiesOptions:u,clientsOptions:d,courtsOptions:l,executorsOptions:p,lawyersOptions:h,packagesOptions:m,ssnNumbersOptions:f,employersOptions:S}).map(a=>(typeof a.condition!="boolean"||a.condition===t)&&(typeof a.secondCondition!="boolean"||a.secondCondition===r.employed)&&b(a))})})})})},Nt=async e=>{let t;try{t=await $({method:"post",url:"api/cases",data:e,withCredentials:!0})}catch{t={data:{error:500,message:"Connection problem"}}}return t},wt=(e,t)=>Le(r=>Nt(r),{onSuccess:r=>(t({type:w.resetCaseFormData}),r.data.error||e(),r.data.message),onError:r=>({error:r,message:"Connection problem"})}),kt=e=>{const{open:t,onClose:r}=e,{t:n}=Q(),c=Ne(),{state:{addCaseForm:u},dispatch:d}=P(),{mutate:l,isLoading:p,isSuccess:h}=wt(r,d);return h&&c.invalidateQueries({queryKey:["casesList"]}),s.jsx(K,{children:s.jsx(ze,{open:t,header:n("entities.addNewCase"),children:s.jsx(xt,{}),onClose:r,hasActionButton:!0,actionButtonText:"submit",hasCancelButton:!0,onSubmit:()=>l(at(u)),isLoading:p,hasCloseIconButton:!0})})},jt=()=>{const{state:{filterable:e},dispatch:t}=P(),{t:r}=Q(),n=[{id:1,label:r("all"),value:G.all},{id:2,label:r("active"),value:G.active},{id:3,label:r("closed"),value:G.closed}];return s.jsx(K,{children:s.jsx(Ee,{label:r("entities.stateOfCases"),size:"small",options:n,value:e,onChange:t})})},Dt=e=>{const{t}=Q(),{state:{addCaseModalOpen:r},dispatch:n}=P();return s.jsx(K,{children:s.jsxs(_.Suspense,{fallback:"Loading....",children:[s.jsxs(I,{className:"my-2 flex justify-between",children:[s.jsx(jt,{}),s.jsx(Ve,{onClick:()=>n({type:w.addCaseModalOpen,payload:!r}),children:t("entities.addNewCase")})]}),s.jsx(st,{}),s.jsx(kt,{open:r,onClose:()=>n({type:w.addCaseModalOpen,payload:!1})})]})})};export{Dt as Cases};
