import{p as y,j as e,c as v,S as A,M as $,a as b,B as h,D as S,r as f,T as C,I as P}from"./index-0fc86f99.js";import{F as R,b as G,S as z,B as I}from"./SnackbarNotification-fe22749b.js";import{h as k,i as w,j as T,k as B}from"./ConfirmationDialog-9583af2c.js";import{C as E}from"./CircularProgress-9f706af9.js";const U=y(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),W=y(e.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp"),Q=o=>{const{label:c,value:r,onChange:t,options:d,size:l="small",multiple:n=!1,className:a=""}=o,u=s=>{const{value:p}=s.target;t&&t(p)};return e.jsx(v,{children:e.jsxs(R,{children:[e.jsx(G,{children:c}),e.jsx(A,{className:`w-36 text-[15px] ${a}`,size:l,label:c,value:r,multiple:n,onChange:s=>u(s),children:d.map(s=>e.jsx($,{value:s.value,disabled:s.disabled,children:s.label},s.id))})]})})},X=o=>{const{onClose:c,open:r,title:t,exportCSVButton:d,exportExcelButton:l,exportChecklist:n,className:a}=o,{t:u}=b();return e.jsx(v,{children:e.jsxs(k,{fullWidth:!0,className:`z-[9999] ${a}`,open:r,keepMounted:!0,onClose:c,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(w,{children:u(t)}),e.jsxs(T,{children:[e.jsx(h,{children:n?e.jsxs(e.Fragment,{children:[n,e.jsx(S,{})]}):""}),e.jsx(B,{id:"alert-dialog-slide-description",children:e.jsxs(z,{className:"mx-10 mt-6 mb-2",direction:"row",justifyContent:"space-between",children:[e.jsx(h,{children:d}),e.jsx(h,{children:l})]})})]})]})})},Y=o=>{const{icon:c,isLoading:r,text:t,disabled:d,onClick:l}=o,{t:n}=b();return e.jsx(v,{children:e.jsx(I,{className:"w-52 h-16 flex justify-between items-center",variant:"contained",color:"info",startIcon:c||e.jsx(W,{}),disabled:r||d,onClick:()=>l&&l(),children:e.jsx(h,{className:"w-full flex items-center justify-center",children:r?e.jsx(E,{color:"inherit",size:24,thickness:4}):n(t)})})})},Z=o=>{const{onClose:c,onSubmitFile:r,open:t,title:d,uploadComponent:l,className:n,submitButtonText:a,isLoading:u,file:s}=o,{t:p}=b();return e.jsx(v,{children:e.jsxs(k,{fullWidth:!0,className:`z-[9999] ${n}`,open:t,keepMounted:!0,onClose:c,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(w,{children:p(d)}),e.jsxs(T,{children:[e.jsx(h,{className:"mx-auto mb-10 mt-2",children:l}),e.jsx(S,{}),e.jsx(B,{className:"mt-6 flex justify-center",id:"alert-dialog-slide-description",children:e.jsx(I,{className:"w-48",variant:"contained",color:"success",disabled:u||!s,onClick:r,children:u?e.jsx(E,{size:24,thickness:4}):p(a||"submitFile")})})]})]})})},_=({onFileUpload:o,file:c,onFileDelete:r,onError:t})=>{const[d,l]=f.useState(!1),[n,a]=f.useState(!1),[u,s]=f.useState(c||null),[p,j]=f.useState(!1),m=f.useRef(null),{t:g}=b(),D=i=>i.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||i.type==="text/csv",N=i=>{i.preventDefault(),l(!0)},M=i=>{i.preventDefault(),l(!1)},H=i=>{i.preventDefault(),l(!1);const x=i.dataTransfer.files[0];x&&(D(x)?(a(!0),s(x),o(x)):(j(!0),a(!1),s(null),m.current&&(m.current.value=""),setTimeout(()=>{j(!1)},1500),t&&t()))},L=i=>{var F;const x=(F=i.target.files)==null?void 0:F[0];x&&(D(x)?(a(!0),s(x),o(x)):(j(!0),a(!1),s(null),m.current&&(m.current.value=""),setTimeout(()=>{j(!1)},1500),t&&t()))},V=()=>{setTimeout(()=>{m.current&&(m.current.value=""),a(!1),s(null),r&&r()},0)};return e.jsxs(h,{className:"relative border-2 p-4 text-center cursor-pointer",style:d?{borderColor:"green",borderStyle:"dashed"}:{borderColor:"gray"},onDragEnter:N,onDragLeave:M,onDragOver:N,onDrop:H,children:[e.jsx("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:L,ref:m,id:"fileInput"}),e.jsxs("label",{className:"flex flex-col items-center",htmlFor:"fileInput",children:[e.jsx(h,{sx:n?{}:{cursor:"pointer"},className:"absolute top-0 left-0 w-full h-full bg-transparent z-10"}),n&&u?e.jsxs(z,{direction:"row",className:"items-center",children:[e.jsx(C,{className:"text-green-800",variant:"subtitle1",children:u.name||"Untitled"}),e.jsx(P,{size:"small",onClick:V,color:"success",className:"z-[100]",children:e.jsx(U,{})})]}):e.jsx(e.Fragment,{children:e.jsx(C,{className:"text-green-800",variant:"subtitle1",children:g(d?"dropFileHere":"dragNDropFileHere")})}),e.jsx(C,{className:"mt-2",variant:"subtitle2",color:p?"error":"inherit",children:p?g("wrongFileFormat"):`${g("acceptedFormats")}: CSV, Excel`})]})]})};export{X as E,Q as F,Z as I,Y as a,_ as b};
