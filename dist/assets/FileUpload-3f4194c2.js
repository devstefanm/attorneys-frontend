import{c as z,j as e,E as C,S as B,M as k,a as N,B as v,D as w,r as h,T as j,I as E}from"./index-519f3ca8.js";import{F as M,I as H,B as L,S as P}from"./setupAxios-8cb3d16d.js";import{j as R,k as V,l as A,n as U,h as $}from"./ConfirmationDialog-13a70a71.js";const O=z(e.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),J=c=>{const{label:u,value:d,onChange:a,options:m,size:r="small"}=c,p=s=>{const{value:n}=s.target;a&&a(n)};return e.jsx(C,{children:e.jsxs(M,{children:[e.jsx(H,{children:u}),e.jsx(B,{className:"w-36 text-[15px]",size:r,label:u,value:d,onChange:s=>p(s),children:m.map(s=>e.jsx(k,{value:s.value,children:s.label},s.id))})]})})},K=c=>{const{onClose:u,onSubmitFile:d,open:a,title:m,uploadComponent:r,className:p,submitButtonText:s,isLoading:n,file:i}=c,{t:f}=N();return e.jsx(C,{children:e.jsxs(R,{fullWidth:!0,className:`z-[9999] ${p}`,open:a,keepMounted:!0,onClose:u,"aria-describedby":"alert-dialog-slide-description",children:[e.jsx(V,{children:f(m)}),e.jsxs(A,{children:[e.jsx(v,{className:"mx-auto mb-10 mt-2",children:r}),e.jsx(w,{}),e.jsx(U,{className:"mt-6 flex justify-center",id:"alert-dialog-slide-description",children:e.jsx(L,{className:"w-48",variant:"contained",color:"success",disabled:n||!i,onClick:d,children:n?e.jsx($,{size:24,thickness:4}):f(s||"submitFile")})})]})]})})},Q=({onFileUpload:c,file:u,onFileDelete:d,onError:a})=>{const[m,r]=h.useState(!1),[p,s]=h.useState(!1),[n,i]=h.useState(u||null),[f,x]=h.useState(!1),o=h.useRef(null),{t:g}=N(),D=t=>t.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"||t.type==="text/csv",b=t=>{t.preventDefault(),r(!0)},y=t=>{t.preventDefault(),r(!1)},I=t=>{t.preventDefault(),r(!1);const l=t.dataTransfer.files[0];l&&(D(l)?(s(!0),i(l),c(l)):(x(!0),s(!1),i(null),o.current&&(o.current.value=""),setTimeout(()=>{x(!1)},1500),a&&a()))},S=t=>{var F;const l=(F=t.target.files)==null?void 0:F[0];l&&(D(l)?(s(!0),i(l),c(l)):(x(!0),s(!1),i(null),o.current&&(o.current.value=""),setTimeout(()=>{x(!1)},1500),a&&a()))},T=()=>{setTimeout(()=>{o.current&&(o.current.value=""),s(!1),i(null),d&&d()},0)};return e.jsxs(v,{className:"relative border-2 p-4 text-center cursor-pointer",style:m?{borderColor:"green",borderStyle:"dashed"}:{borderColor:"gray"},onDragEnter:b,onDragLeave:y,onDragOver:b,onDrop:I,children:[e.jsx("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer",onChange:S,ref:o,id:"fileInput"}),e.jsxs("label",{className:"flex flex-col items-center",htmlFor:"fileInput",children:[e.jsx(v,{sx:p?{}:{cursor:"pointer"},className:"absolute top-0 left-0 w-full h-full bg-transparent z-10"}),p&&n?e.jsxs(P,{direction:"row",className:"items-center",children:[e.jsx(j,{className:"text-green-800",variant:"subtitle1",children:n.name||"Untitled"}),e.jsx(E,{size:"small",onClick:T,color:"success",className:"z-[100]",children:e.jsx(O,{})})]}):e.jsx(e.Fragment,{children:e.jsx(j,{className:"text-green-800",variant:"subtitle1",children:g(m?"dropFileHere":"dragNDropFileHere")})}),e.jsx(j,{className:"mt-2",variant:"subtitle2",color:f?"error":"inherit",children:f?g("wrongFileFormat"):`${g("acceptedFormats")}: CSV, Excel`})]})]})};export{J as F,K as I,Q as a};
